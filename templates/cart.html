<h2>Your Cart</h2>
<a href="{{ url_for('products') }}">Back to Products</a>
{% if not cart %}
    <p>Your cart is empty.</p>
{% else %}
<table aria-label="Cart table">
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Brand</th>
            <th scope="col">Size</th>
            <th scope="col">Price $</th>
            <th scope="col">Qty</th>
            <th scope="col">Update Qty</th>
            <th scope="col">Action</th>
        </tr>
    </thead>
    <tbody>
    {% for item in cart %}
        <tr>
            <td>{{ item.name }}</td>
            <td>{{ item.brand }}</td>
            <td>{{ item.size }}</td>
            <td>{{ "%.2f"|format(item.price) }}</td>
            <td>{{ item.qty }}</td>
            <td>
                <form method="post" action="{{ url_for('update_cart') }}">
                    <input type="hidden" name="key" value="{{ item.key }}">
                    <input name="qty" type="number" min="0" {% if item.available %}max="{{ item.available }}"{% endif %} value="{{ item.qty }}">
                    <button type="submit">Update</button>
                </form>
            </td>
            <td>
                <form method="post" action="{{ url_for('remove_from_cart') }}">
                    <input type="hidden" name="key" value="{{ item.key }}">
                    <button type="submit">Remove</button>
                </form>
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>
<form method="post" action="{{ url_for('checkout') }}">
    <button type="submit">Checkout</button>
</form>
{% endif %}
